<table mat-table [dataSource]="rows" [trackBy]="trackByFn" class="table">
  <ng-container *ngFor="let column of columns; let i = index" [matColumnDef]="column.name">
    <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
    <td mat-cell *matCellDef="let row">
      <span *ngIf="column.type === 'text'" [ngStyle]="getCellContentStyles(row, column)">{{
        getTextCellValue(row, column)
      }}</span>
      <a
        *ngIf="column.type === 'link'"
        [href]="getTextCellValue(row, column)"
        [ngStyle]="getCellContentStyles(row, column)"
        >{{ getTextCellValue(row, column) }}</a
      >
      <img
        *ngIf="column.type === 'image'"
        appTooltip
        [position]="TooltipPosition.LEFT"
        [tooltipImage]="getTextCellValue(row, column)"
        class="preview"
        [src]="getTextCellValue(row, column)"
        [ngStyle]="getCellContentStyles(row, column)"
        alt="error"
      />
      <ng-container *ngIf="column.type === 'actions'"
        ><button
          mat-icon-button
          *ngFor="let action of getCellActions(row, column)"
          appTooltip
          [position]="TooltipPosition.BELOW"
          [tooltipText]="action.tooltip"
          [color]="action.color ?? 'basic'"
          (click)="emitAction(column, row, action.action)"
          [ngStyle]="getCellContentStyles(row, column)"
        >
          <mat-icon>{{ action.iconName }}</mat-icon>
        </button>
      </ng-container>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsNames; sticky: isStickyHeader"></tr>
  <tr mat-row *matRowDef="let row; columns: columnsNames"></tr>
</table>
